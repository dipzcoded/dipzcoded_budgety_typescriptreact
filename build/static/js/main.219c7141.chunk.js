(this["webpackJsonpreactjs-typescropt-budgety"]=this["webpackJsonpreactjs-typescropt-budgety"]||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var n,s=c(1),a=c.n(s),i=c(9),r=c.n(i),l=(c(14),c(15),c(5)),d=c(2),u=c(7),o=c(19),j=c(4);!function(e){e.CreateIncome="CREATE_INCOME",e.DeleteIncome="DELETE_INCOME",e.CreateExpense="CREATE_EXPENSE",e.DeleteExpense="DELETE_EXPENSE"}(n||(n={}));var b=function(e,t){switch(t.type){case n.CreateIncome:return[Object(d.a)({},t.incomeData)].concat(Object(j.a)(e));case n.DeleteIncome:return Object(j.a)(e.filter((function(e){return e.id!==t.incomeId})));default:return e}},m=function(e,t){switch(t.type){case n.CreateExpense:return[Object(d.a)({},t.expenseData)].concat(Object(j.a)(e));case n.DeleteExpense:return Object(j.a)(e.filter((function(e){return e.id!==t.expenseId})));default:return e}},x=c(0),p={incomes:JSON.parse(localStorage.getItem("incomes")||"[]"),expenses:JSON.parse(localStorage.getItem("expenses")||"[]")},O=Object(s.createContext)({state:p,dispatch:function(){return null}}),h=function(e,t){var c=e.expenses,n=e.incomes;return{incomes:b(n,t),expenses:m(c,t)}},N=function(e){var t=e.children,c=Object(s.useReducer)(h,p),n=Object(u.a)(c,2),a=n[0],i=n[1];return Object(x.jsx)(O.Provider,{value:{state:a,dispatch:i},children:t})},v=function(){var e,t,c=Object(s.useContext)(O),a=c.state,i=a.expenses,r=a.incomes,j=c.dispatch,b=Object(s.useState)({type:"inc",detail:"",amount:0}),m=Object(u.a)(b,2),p=m[0],h=m[1],N=p.type,v=p.detail,_=p.amount;return e=function(e){h(Object(d.a)(Object(d.a)({},p),{},Object(l.a)({},e.target.name,e.target.value)))},t=function(e){e.preventDefault();var t={id:Object(o.a)(),detail:v,amount:Math.abs(Number(_)),type:N};j("inc"===N?{type:n.CreateIncome,incomeData:t}:{type:n.CreateExpense,expenseData:t}),h({type:"inc",detail:"",amount:0})},Object(s.useEffect)((function(){!function(e,t){var c=JSON.parse(localStorage.getItem("incomes")||"[]"),n=JSON.parse(localStorage.getItem("expenses")||"[]");c.length||n.length,localStorage.setItem("incomes",JSON.stringify(e)),localStorage.setItem("expenses",JSON.stringify(t))}(r,i)}),[r,i]),Object(x.jsx)("div",{className:"add",children:Object(x.jsxs)("div",{className:"add__container",children:[Object(x.jsxs)("select",{name:"type",className:"add__type ".concat("exp"===N&&"debt"),value:N,onChange:e,children:[Object(x.jsx)("option",{value:"inc",children:"+"}),Object(x.jsx)("option",{value:"exp",children:"-"})]}),Object(x.jsx)("input",{type:"text",name:"detail",value:v,className:"add__description ".concat("exp"===N&&"debt"),placeholder:"Add description",onChange:e}),Object(x.jsx)("input",{type:"number",name:"amount",className:"add__value ".concat("exp"===N&&"debt"),placeholder:"Value",value:_,onChange:e}),Object(x.jsx)("button",{className:"add__btn ".concat("exp"===N&&"debt"),onClick:t,disabled:!v||!_,children:Object(x.jsx)("i",{className:"bx bx-check-circle"})})]})})},_=function(e){var t,c=e.transaction,a=c.amount,i=c.detail,r=c.type,l=c.id,d=Object(s.useContext)(O),u=d.state.incomes,o=d.dispatch,j=Math.ceil(a/u.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0)*100);return t=function(e){e.preventDefault(),o("inc"===r?{type:n.DeleteIncome,incomeId:l}:{type:n.DeleteExpense,expenseId:l})},Object(x.jsxs)("div",{className:"item clearfix",children:[Object(x.jsx)("div",{className:"item__description",children:i}),Object(x.jsxs)("div",{className:"right clearfix",children:[Object(x.jsxs)("div",{className:"item__value",children:["inc"===r?"+":"-"," ",a.toFixed(2)]}),"exp"===r&&Object(x.jsxs)("div",{className:"item__percentage",children:[!Number.isFinite(j)||Number.isNaN(j)?0:j,"%"]}),Object(x.jsx)("div",{className:"item__delete",children:Object(x.jsx)("button",{className:"item__delete--btn",onClick:t,children:Object(x.jsx)("i",{className:"ion-ios-close-outline"})})})]})]})},f=function(){var e=Object(s.useContext)(O).state.expenses;return Object(x.jsxs)("div",{className:"expenses",children:[Object(x.jsx)("h2",{className:"expenses__title",children:"Expenses"}),Object(x.jsx)("div",{className:"expenses__list",children:e.length>0&&e.map((function(e){return Object(x.jsx)(_,{transaction:e},e.id)}))})]})},g=function(){var e=Object(s.useContext)(O).state.incomes;return Object(x.jsxs)("div",{className:"income",children:[Object(x.jsx)("h2",{className:"icome__title",children:"Income"}),Object(x.jsx)("div",{className:"income__list",children:e.length>0&&e.map((function(e){return Object(x.jsx)(_,{transaction:e},e.id)}))})]})},E=function(){return Object(x.jsxs)("div",{className:"container clearfix",children:[Object(x.jsx)(g,{}),Object(x.jsx)(f,{})]})},y=function(){var e=Object(s.useContext)(O).state,t=e.incomes,c=e.expenses,n=t.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0)-c.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0),a=t.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0),i=c.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0),r=Math.round(i/a*100);return Object(x.jsxs)(s.Fragment,{children:[Object(x.jsxs)("div",{className:"budget__value",children:[n>0&&"+"," ",n.toFixed(2)]}),Object(x.jsxs)("div",{className:"budget__income clearfix",children:[Object(x.jsx)("div",{className:"budget__income--text",children:"Income"}),Object(x.jsxs)("div",{className:"right",children:[Object(x.jsxs)("div",{className:"budget__income--value",children:["+ ",a.toFixed(2)]}),Object(x.jsx)("div",{className:"budget__income--percentage",children:"\xa0"})]})]}),Object(x.jsxs)("div",{className:"budget__expenses clearfix",children:[Object(x.jsx)("div",{className:"budget__expenses--text",children:"Expenses"}),Object(x.jsxs)("div",{className:"right clearfix",children:[Object(x.jsxs)("div",{className:"budget__expenses--value",children:["- ",i.toFixed(2)]}),Object(x.jsxs)("div",{className:"budget__expenses--percentage",children:[Number.isNaN(r)||!Number.isFinite(r)?0:r,"%"]})]})]})]})},C=function(){return Object(x.jsx)("div",{className:"top",children:Object(x.jsxs)("div",{className:"budget",children:[Object(x.jsxs)("div",{className:"budget__title",children:["Available Budget in ",["January","February","March","April","May","June","July","August","September","October","November","December"][(new Date).getMonth()]," ",Object(x.jsx)("span",{className:"budget__title--month",children:(new Date).getFullYear()}),":"]}),Object(x.jsx)(y,{})]})})},I=function(){return Object(x.jsxs)(N,{children:[Object(x.jsx)(C,{}),Object(x.jsxs)("div",{className:"bottom",children:[Object(x.jsx)(v,{}),Object(x.jsx)(E,{})]})]})};r.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(I,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.219c7141.chunk.js.map